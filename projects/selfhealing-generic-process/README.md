# Self Healing with Generic subprocess
## Show me the important parts!

This process applications shows how a customizable superprocess uses a generic subprocess with a self healing component for each call activity.

The project contains two alternatives:
1. A generic subprocess with direct self healing.
2. A generic subprocess with an embedded self healing subprocess.

The project shows howto invoke subprocesses with a call activity without copying variables to the subprocess. The Delegate implementation [ServiceInvocationDelegate](src/main/java/com/camunda/consulting/selfhealing_generic_process/ServiceInvocationDelegate.java) access the Order variable from the superprocess using
```
Order order = (Order) execution.getSuperExecution().getVariable("order");
```

## How to use it?

Inspect the Test classes.

### Unit Test
You can run the JUnit test [ProcessUnitTest](src/test/java/com/camunda/consulting/selfhealing_generic_process/ProcessUnitTest.java) in your IDE or using:
```bash
mvn clean test
```

The second Unit test [EmbeddedProcessUnitTest](src/test/java/com/camunda/consulting/selfhealing_generic_process/EmbeddedProcessUnitTest.java) helps to compare both process models. It implemented the same test methods using the subprocess with embedded self-healing.

### Deployment to an Application Server

This project can't be deployed without changes. As it contains two versions of the same process, the deployment will fail.

You have to remove one of the subprocesses before you deploy it to an application server.

## Environment Restrictions
Built and tested against Camunda BPM version 7.11.0.

A Process Application for [Camunda BPM](http://docs.camunda.org).

This project has been generated by the Maven archetype
[camunda-archetype-servlet-war-7.11.1](http://docs.camunda.org/latest/guides/user-guide/#process-applications-maven-project-templates-archetypes).

## Known Limitations

## License
[Apache License, Version 2.0](http://www.apache.org/licenses/LICENSE-2.0).

<!-- HTML snippet for index page
  <tr>
    <td><img src="snippets/selfhealing-generic-process/src/main/resources/process.png" width="100"></td>
    <td><a href="snippets/selfhealing-generic-process">Camunda BPM Process Application</a></td>
    <td>A Process Application for [Camunda BPM](http://docs.camunda.org).</td>
  </tr>
-->
<!-- Tweet
New @Camunda example: Camunda BPM Process Application - A Process Application for [Camunda BPM](http://docs.camunda.org). https://github.com/camunda-consulting/code/tree/master/snippets/selfhealing-generic-process
-->